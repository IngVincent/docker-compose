{"severity":"ERROR","time":"2023-08-01T00:17:08.565Z","correlation_id":"01H6Q78TH3W09HVNGSH8DHE47Z","meta.caller_id":"ExternalServiceReactiveCachingWorker","meta.remote_ip":"172.24.0.1","meta.feature_category":"groups_and_projects","meta.user":"root","meta.user_id":1,"meta.client_id":"user/1","meta.related_class":"VersionCheck","meta.root_caller_id":"RootController#index","exception.class":"Gitlab::HTTP::BlockedUrlError","exception.message":"URL is blocked: Host cannot be resolved or invalid","exception.backtrace":["lib/gitlab/http_connection_adapter.rb:58:in `rescue in validate_url_with_proxy!'","lib/gitlab/http_connection_adapter.rb:50:in `validate_url_with_proxy!'","lib/gitlab/http_connection_adapter.rb:27:in `connection'","lib/gitlab/http.rb:65:in `perform_request'","lib/gitlab/http.rb:85:in `try_get'","lib/version_check.rb:71:in `calculate_reactive_cache'","app/models/concerns/reactive_caching.rb:94:in `block (2 levels) in exclusively_update_reactive_cache!'","app/models/concerns/reactive_caching.rb:153:in `enqueuing_update'","app/models/concerns/reactive_caching.rb:93:in `block in exclusively_update_reactive_cache!'","app/models/concerns/reactive_caching.rb:143:in `locking_reactive_cache'","app/models/concerns/reactive_caching.rb:89:in `exclusively_update_reactive_cache!'","app/workers/concerns/reactive_cacheable_worker.rb:35:in `perform'","lib/gitlab/sidekiq_middleware/skip_jobs.rb:49:in `call'","lib/gitlab/database/load_balancing/sidekiq_server_middleware.rb:29:in `call'","lib/gitlab/sidekiq_middleware/duplicate_jobs/strategies/until_executing.rb:16:in `perform'","lib/gitlab/sidekiq_middleware/duplicate_jobs/duplicate_job.rb:44:in `perform'","lib/gitlab/sidekiq_middleware/duplicate_jobs/server.rb:8:in `call'","lib/gitlab/sidekiq_middleware/worker_context.rb:9:in `wrap_in_optional_context'","lib/gitlab/sidekiq_middleware/worker_context/server.rb:19:in `block in call'","lib/gitlab/application_context.rb:124:in `block in use'","lib/gitlab/application_context.rb:124:in `use'","lib/gitlab/application_context.rb:62:in `with_context'","lib/gitlab/sidekiq_middleware/worker_context/server.rb:17:in `call'","lib/gitlab/sidekiq_status/server_middleware.rb:7:in `call'","lib/gitlab/sidekiq_versioning/middleware.rb:9:in `call'","lib/gitlab/sidekiq_middleware/query_analyzer.rb:7:in `block in call'","lib/gitlab/database/query_analyzer.rb:37:in `within'","lib/gitlab/sidekiq_middleware/query_analyzer.rb:7:in `call'","lib/gitlab/sidekiq_middleware/admin_mode/server.rb:14:in `call'","lib/gitlab/sidekiq_middleware/instrumentation_logger.rb:9:in `call'","lib/gitlab/sidekiq_middleware/batch_loader.rb:7:in `call'","lib/gitlab/sidekiq_middleware/extra_done_log_metadata.rb:7:in `call'","lib/gitlab/sidekiq_middleware/request_store_middleware.rb:10:in `block in call'","lib/gitlab/with_request_store.rb:17:in `enabling_request_store'","lib/gitlab/with_request_store.rb:10:in `with_request_store'","lib/gitlab/sidekiq_middleware/request_store_middleware.rb:9:in `call'","lib/gitlab/sidekiq_middleware/server_metrics.rb:84:in `block in call'","lib/gitlab/sidekiq_middleware/server_metrics.rb:111:in `block in instrument'","lib/gitlab/metrics/background_transaction.rb:33:in `run'","lib/gitlab/sidekiq_middleware/server_metrics.rb:111:in `instrument'","lib/gitlab/sidekiq_middleware/server_metrics.rb:83:in `call'","lib/gitlab/sidekiq_middleware/monitor.rb:10:in `block in call'","lib/gitlab/sidekiq_daemon/monitor.rb:46:in `within_job'","lib/gitlab/sidekiq_middleware/monitor.rb:9:in `call'","lib/gitlab/sidekiq_middleware/size_limiter/server.rb:13:in `call'","lib/gitlab/sidekiq_logging/structured_logger.rb:21:in `call'"],"exception.cause_class":"Gitlab::UrlBlocker::BlockedUrlError","user.username":"root","tags.program":"sidekiq","tags.locale":"en","tags.feature_category":"groups_and_projects","tags.correlation_id":"01H6Q78TH3W09HVNGSH8DHE47Z","extra.sidekiq":{"retry":3,"queue":"default","version":0,"args":["VersionCheck","[FILTERED]"],"class":"ExternalServiceReactiveCachingWorker","jid":"7e61a02db9482f33dd4a4c4b","created_at":1690849012.532372,"correlation_id":"01H6Q78TH3W09HVNGSH8DHE47Z","meta.caller_id":"RootController#index","meta.remote_ip":"172.24.0.1","meta.feature_category":"groups_and_projects","meta.user":"root","meta.user_id":1,"meta.client_id":"user/1","meta.related_class":"VersionCheck","meta.root_caller_id":"RootController#index","worker_data_consistency":"always","idempotency_key":"resque:gitlab:duplicate:default:5da2a4a43f8dcf91be31762f5a5a35edb490ae9cd181863397a5290276600ff5","size_limiter":"validated","enqueued_at":1690849012.5342824}}
{"severity":"ERROR","time":"2023-08-01T00:19:28.302Z","correlation_id":"01H6Q7D2QP0DEM2ZW3WJZ3J0PY","meta.caller_id":"ExternalServiceReactiveCachingWorker","meta.remote_ip":"172.24.0.1","meta.feature_category":"groups_and_projects","meta.user":"root","meta.user_id":1,"meta.client_id":"user/1","meta.related_class":"VersionCheck","meta.root_caller_id":"RootController#index","exception.class":"Gitlab::HTTP::BlockedUrlError","exception.message":"URL is blocked: Host cannot be resolved or invalid","exception.backtrace":["lib/gitlab/http_connection_adapter.rb:58:in `rescue in validate_url_with_proxy!'","lib/gitlab/http_connection_adapter.rb:50:in `validate_url_with_proxy!'","lib/gitlab/http_connection_adapter.rb:27:in `connection'","lib/gitlab/http.rb:65:in `perform_request'","lib/gitlab/http.rb:85:in `try_get'","lib/version_check.rb:71:in `calculate_reactive_cache'","app/models/concerns/reactive_caching.rb:94:in `block (2 levels) in exclusively_update_reactive_cache!'","app/models/concerns/reactive_caching.rb:153:in `enqueuing_update'","app/models/concerns/reactive_caching.rb:93:in `block in exclusively_update_reactive_cache!'","app/models/concerns/reactive_caching.rb:143:in `locking_reactive_cache'","app/models/concerns/reactive_caching.rb:89:in `exclusively_update_reactive_cache!'","app/workers/concerns/reactive_cacheable_worker.rb:35:in `perform'","lib/gitlab/sidekiq_middleware/skip_jobs.rb:49:in `call'","lib/gitlab/database/load_balancing/sidekiq_server_middleware.rb:29:in `call'","lib/gitlab/sidekiq_middleware/duplicate_jobs/strategies/until_executing.rb:16:in `perform'","lib/gitlab/sidekiq_middleware/duplicate_jobs/duplicate_job.rb:44:in `perform'","lib/gitlab/sidekiq_middleware/duplicate_jobs/server.rb:8:in `call'","lib/gitlab/sidekiq_middleware/worker_context.rb:9:in `wrap_in_optional_context'","lib/gitlab/sidekiq_middleware/worker_context/server.rb:19:in `block in call'","lib/gitlab/application_context.rb:124:in `block in use'","lib/gitlab/application_context.rb:124:in `use'","lib/gitlab/application_context.rb:62:in `with_context'","lib/gitlab/sidekiq_middleware/worker_context/server.rb:17:in `call'","lib/gitlab/sidekiq_status/server_middleware.rb:7:in `call'","lib/gitlab/sidekiq_versioning/middleware.rb:9:in `call'","lib/gitlab/sidekiq_middleware/query_analyzer.rb:7:in `block in call'","lib/gitlab/database/query_analyzer.rb:37:in `within'","lib/gitlab/sidekiq_middleware/query_analyzer.rb:7:in `call'","lib/gitlab/sidekiq_middleware/admin_mode/server.rb:14:in `call'","lib/gitlab/sidekiq_middleware/instrumentation_logger.rb:9:in `call'","lib/gitlab/sidekiq_middleware/batch_loader.rb:7:in `call'","lib/gitlab/sidekiq_middleware/extra_done_log_metadata.rb:7:in `call'","lib/gitlab/sidekiq_middleware/request_store_middleware.rb:10:in `block in call'","lib/gitlab/with_request_store.rb:17:in `enabling_request_store'","lib/gitlab/with_request_store.rb:10:in `with_request_store'","lib/gitlab/sidekiq_middleware/request_store_middleware.rb:9:in `call'","lib/gitlab/sidekiq_middleware/server_metrics.rb:84:in `block in call'","lib/gitlab/sidekiq_middleware/server_metrics.rb:111:in `block in instrument'","lib/gitlab/metrics/background_transaction.rb:33:in `run'","lib/gitlab/sidekiq_middleware/server_metrics.rb:111:in `instrument'","lib/gitlab/sidekiq_middleware/server_metrics.rb:83:in `call'","lib/gitlab/sidekiq_middleware/monitor.rb:10:in `block in call'","lib/gitlab/sidekiq_daemon/monitor.rb:46:in `within_job'","lib/gitlab/sidekiq_middleware/monitor.rb:9:in `call'","lib/gitlab/sidekiq_middleware/size_limiter/server.rb:13:in `call'","lib/gitlab/sidekiq_logging/structured_logger.rb:21:in `call'"],"exception.cause_class":"Gitlab::UrlBlocker::BlockedUrlError","user.username":"root","tags.program":"sidekiq","tags.locale":"en","tags.feature_category":"groups_and_projects","tags.correlation_id":"01H6Q7D2QP0DEM2ZW3WJZ3J0PY","extra.sidekiq":{"retry":3,"queue":"default","version":0,"args":["VersionCheck","[FILTERED]"],"class":"ExternalServiceReactiveCachingWorker","jid":"435812313a76425a3e81bfe5","created_at":1690849152.261752,"correlation_id":"01H6Q7D2QP0DEM2ZW3WJZ3J0PY","meta.caller_id":"RootController#index","meta.remote_ip":"172.24.0.1","meta.feature_category":"groups_and_projects","meta.user":"root","meta.user_id":1,"meta.client_id":"user/1","meta.related_class":"VersionCheck","meta.root_caller_id":"RootController#index","worker_data_consistency":"always","idempotency_key":"resque:gitlab:duplicate:default:5da2a4a43f8dcf91be31762f5a5a35edb490ae9cd181863397a5290276600ff5","size_limiter":"validated","enqueued_at":1690849152.2735765}}
